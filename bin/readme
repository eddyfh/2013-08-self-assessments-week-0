#!/usr/bin/env zsh

# Generate README.md by concatenating all README.md files in
# contained subdirectories.

PREFIX="_do not edit; generated by bin/readme_
"

BIN=${"${0:A}"/"${0[2,-1]}"/}
ROOT=$BIN/..
README=$ROOT/README.md
TMP_README=/tmp/hr-README.md

rm $README

echo $PREFIX > $TMP_README

for F in $ROOT/**/README.md; do cat $F >> $TMP_README; echo "
" >> $TMP_README; done

mv $TMP_README $README
